{% load static %}
<!doctype html>
<html lang="en">
{% include 'expendable/head.html' %}
<body id="top">
{% include 'expendable/chatbot_and_loading.html' %}

<div class="site-wrap">

    <div class="site-mobile-menu site-navbar-target">
        <div class="site-mobile-menu-header">
            <div class="site-mobile-menu-close mt-3">
                <span class="icon-close2 js-menu-toggle"></span>
            </div>
        </div>
        <div class="site-mobile-menu-body"></div>
    </div> <!-- .site-mobile-menu -->

    <!-- NAVBAR -->
    {% include 'expendable/navbar.html' %}
    <!-- HOME -->
    <section class="section-hero overlay inner-page bg-image"
             style="background-image: url('{% static "images/hero_1.jpg" %}');"
             id="home-section">
        <div class="container">
            <div class="row">
                <div class="col-md-7">
                    <h1 class="text-white font-weight-bold">Manage Posted Materials</h1>
                    <div class="custom-breadcrumbs">
                        <a href="{% url 'homepage' %}">Home</a> <span class="mx-2 slash">/</span>
                        <a href="{% url 'course_materials' %}">Course Materials</a> <span class="mx-2 slash">/</span>
                        <span class="text-white"><strong>Manage Posted Materials</strong></span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container mt-5 mb-5">
        <h2 class="text-center mb-4">Manage Course Materials</h2>

        <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
                <h5 class="mb-0">Course Materials List</h5>
            </div>
            <div class="card-body">
                <table class="table table-hover table-wrap">
                    <thead>
                    <tr>
                        <th>Degree Name</th>
                        <th>Trimester/ Semester</th>
                        <th>Course Title</th>
                        <th>Material Type</th>
                        <th>Admin</th>
                        <th>Uploaded</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for material in materials %}
                        <tr>
                            <td>
                                {% if material.degree == "bscse" %}
                                    B.Sc. in Computer Science & Engineering
                                {% elif material.degree == "mscse" %}
                                    M.Sc. in Computer Science & Engineering
                                {% elif material.degree == "bsds" %}
                                    B.Sc. in Data Science
                                {% elif material.degree == "bseee" %}
                                    B.Sc. in Electrical & Electronics Engineering
                                {% elif material.degree == "bsce" %}
                                    B.Sc. in Civil Engineering
                                {% elif material.degree == "bba" %}
                                    BBA
                                {% elif material.degree == "mba" %}
                                    MBA
                                {% elif material.degree == "bt" %}
                                    B.Sc. in Bio Technology & Genetic Engineering
                                {% elif material.degree == "bp" %}
                                    B. Pharma.
                                {% elif material.degree == "bse" %}
                                    B.Sc. in Economics
                                {% elif material.degree == "ba" %}
                                    B.A. in English
                                {% else %}
                                    {{ material.degree }} <!-- Default if none match -->
                                {% endif %}
                            </td>
                            <td>{{ material.trimester }}</td>
                            <td>{{ material.course_title }}</td>
                            <td>{{ material.material_type }}</td>
                            <td>{{ material.user.get_full_name }}</td>
                            <td>{{ material.created_at }}</td>
                            <td>
                                <a href="{% url 'edit_course_material' material.id %}" class="btn btn-primary btn-sm mb-1">Edit</a>
                                <a href="{% url 'delete_course_material' material.id %}" class="btn btn-danger btn-sm"
                                   onclick="return confirm('Are you sure you want to delete this material?');">Delete</a>
                            </td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="8" class="text-center">No course materials available.</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    {% include 'expendable/footer.html' %}
    {% include 'expendable/include.html' %}

</div>

<style>
    .table-wrap {
        table-layout: auto;
    }

    .table-wrap th, .table-wrap td {
        word-wrap: break-word;
        overflow-wrap: break-word;
    }
</style>

</body>
</html>